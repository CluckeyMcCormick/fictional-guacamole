// XSM Tutorial - Extended State Machine Tutorial
// Basic Extended State Machine, Super - Graphviz Dot
// Directed Graph
digraph G {
    rankdir=LR; // Left to Right, instead of Top to Bottom
    //nodesep=.55; // Ensure nodes are separated by at least .55... units?
    overlap=false; // Nodes are not allowed to overlap.
    compound=true; // Allow edges between clusters
    
    subgraph cluster0 {
        // Subgraph attributes.
        label = "Power On";
        style="filled";
        
        // All Nodes in the Subgraph will have the following properties:
        node [style="filled", color="white"];
        
        // Declare nodes (since we need to label them)
        m_OFF [label="Machine Off"]
        m_ON [label="Machine On"]
        
        edge [label = "Power Button\nPressed"];
        m_OFF -> m_ON;
        
        edge [label = "Power Button\nPressed"];
        m_ON -> m_OFF;
    }

    Start [shape=Mdiamond];
    p_OFF [label="Power Off"];

    edge [label = ""];
    Start -> m_OFF;
    
    edge [label = "Power Lost", ltail = cluster0];
    m_ON -> p_OFF;
    
    // Increased the weight here to allow for more label readability.
    edge [label = "Power On"];//, weight=2.5];
    p_OFF -> m_OFF;
}
